From bed504cd5a2abc6b4489bfcb561b0a6d48e4e90f Mon Sep 17 00:00:00 2001
From: ibizaman <ibizaman@tiserbox.com>
Date: Mon, 1 Sep 2025 20:23:43 +0200
Subject: [PATCH] wyoming-piper: regex 2024.11.6 -> 2025.7.34

---
 pkgs/by-name/wy/wyoming-piper/package.nix     |  4 +++
 .../wyoming-piper/use-regex-2025.7.34.patch   | 25 +++++++++++++++++++
 2 files changed, 29 insertions(+)
 create mode 100644 pkgs/by-name/wy/wyoming-piper/use-regex-2025.7.34.patch

diff --git a/pkgs/by-name/wy/wyoming-piper/package.nix b/pkgs/by-name/wy/wyoming-piper/package.nix
index 28d417db6c5c60..6a53810985ed52 100644
--- a/pkgs/by-name/wy/wyoming-piper/package.nix
+++ b/pkgs/by-name/wy/wyoming-piper/package.nix
@@ -20,6 +20,10 @@ python3Packages.buildPythonApplication rec {
     setuptools
   ];
 
+  patches = [
+    ./use-regex-2025.7.34.patch
+  ];
+
   pythonRelaxDeps = [
     "wyoming"
   ];
diff --git a/pkgs/by-name/wy/wyoming-piper/use-regex-2025.7.34.patch b/pkgs/by-name/wy/wyoming-piper/use-regex-2025.7.34.patch
new file mode 100644
index 00000000000000..abe22f6dfc0b55
--- /dev/null
+++ b/pkgs/by-name/wy/wyoming-piper/use-regex-2025.7.34.patch
@@ -0,0 +1,25 @@
+From d4fc14d7f7ceabec0a86111aacf52bc79fc11a56 Mon Sep 17 00:00:00 2001
+From: ibizaman <ibizaman@tiserbox.com>
+Date: Mon, 1 Sep 2025 20:21:27 +0200
+Subject: [PATCH] bump regex to 2025.7.34
+
+---
+ pyproject.toml | 2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/pyproject.toml b/pyproject.toml
+index 24bb463..254fee7 100644
+--- a/pyproject.toml
++++ b/pyproject.toml
+@@ -22,7 +22,7 @@ classifiers = [
+ ]
+ dependencies = [
+     "wyoming>=1.7.2,<1.8",
+-    "regex==2024.11.6",
++    "regex==2025.7.34",
+ ]
+ 
+ [project.urls]
+-- 
+2.50.1
+
